<!DOCTYPE html>
<html lang="en">
  <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="stylesheet" href="/daviddong.github.io/assets/css/style.css">
<link rel="icon" href="/daviddong.github.io/assets/favicon.ico">
<title>Python Pillow library usage | David Dong's Blog</title>
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Python Pillow library usage | David Dong’s Blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Python Pillow library usage" />
<meta name="author" content="David Dong" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I recently completed some image processing works with Pillow Library. Pillow provides a powerful function and has friendly APIs to the developer. I thought it is necessary to make some notes here for the usage." />
<meta property="og:description" content="I recently completed some image processing works with Pillow Library. Pillow provides a powerful function and has friendly APIs to the developer. I thought it is necessary to make some notes here for the usage." />
<link rel="canonical" href="http://localhost:4000/daviddong.github.io/python/2019/03/07/Python-pillow.html" />
<meta property="og:url" content="http://localhost:4000/daviddong.github.io/python/2019/03/07/Python-pillow.html" />
<meta property="og:site_name" content="David Dong’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-03-07T20:59:29+08:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/daviddong.github.io/python/2019/03/07/Python-pillow.html"},"@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/daviddong.github.io/BLOG"},"name":"David Dong"},"headline":"Python Pillow library usage","dateModified":"2019-03-07T20:59:29+08:00","datePublished":"2019-03-07T20:59:29+08:00","author":{"@type":"Person","name":"David Dong"},"url":"http://localhost:4000/daviddong.github.io/python/2019/03/07/Python-pillow.html","description":"I recently completed some image processing works with Pillow Library. Pillow provides a powerful function and has friendly APIs to the developer. I thought it is necessary to make some notes here for the usage.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->




</head>
  <body><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><main class="container">
      <section class="about">
        <a href="/daviddong.github.io/blog/index.html"><img src="/daviddong.github.io/assets/avatar.png" alt="David Dong"></a>
        <h2 id="title">
          <a href="/daviddong.github.io/blog/index.html">David Dong</a>
        </h2>
        <p class="tagline">Java/C/C#/Python</p>
        <ul class="social">
		   <a href="https://rainbow-ux.github.io/traveler-blog.github.io">
              <li>
                <i class="icon-picture-3"></i>
              </li>
           </a><a href="https://github.com/gangdong">
              <li>
                <i class="icon-github-circled-1"></i>
              </li>
            </a><a href="https://www.linkedin.com/in/刚-董-25208ba0/">
              <li>
                <i class="icon-linkedin-squared"></i>
              </li>
            </a></ul><nav class="navigation">
            <ul>
              
            </ul>
          </nav><p>&copy;
          2021</p><div>
        <p style = "font-family: Raleway, sans-serif;font-size: 100%">Dark Theme
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" id="dark-mode-toggle" onclick="toggleDarkMode()">
            <span class="slider round"></span>
          </label>
        </p>
      </div>
      <script type="text/javascript" src="/daviddong.github.io/assets/js/darkmode.js"></script><div>
        <ul class="social" style="padding-top: 3vh"><a style ="margin-right:10px;text-decoration: none;font-family: Raleway, sans-serif;" href="/daviddong.github.io/rss.xml">
              <span class="icon-rss-1">rss</span>
           </a><a style="text-decoration: none;font-family: Raleway, sans-serif;" href="https://github.com/gangdong/daviddong.github.io">
              <span class="icon-file-code">code</span>
            </a></ul>
      </div>
      </section>
      <section class="content">
        <!-- add menu bar here! -->


<div class="post-container">
<div  class = "menu">
<div  style="font-size:180%;font-weight:800; margin-top: 20px">BLOG</div>
<div  style = "margin-top: 20px">
<a class = "menu_tag_a" href="/daviddong.github.io/blog/index.html">
    <span class="icon-doc-text icon_font">Posts</span>
</a><a  class = "menu_tag_a" href="/daviddong.github.io/archive">
    <span class="icon-archive-1 icon_font">Archives</span>
</a><a  class = "menu_tag_a" href="/daviddong.github.io/category">
    <span class="icon-tags-1 icon_font">Categories</span>
</a><a  class = "menu_tag_b" href="/daviddong.github.io/about">
    <span class="icon-help-circled-3 icon_font">About</span>
</a>
</div>
</div>
</div><div class="post-container">
  <li class="posts-labelgroup" id="posts-labelgroup">
	<h1 id="posts-label">POST</h1>
  </li>  
  <a class="post-link" href="/daviddong.github.io/python/2019/03/07/Python-pillow.html">
    <h2 class="post-title">Python Pillow library usage</h2>
  </a>
  <div class="post-meta">
    <ul class="post-categories"><li>Python</li></ul>
    <div class="post-date"><i class="icon-calendar"></i>Mar 7, 2019</div>
  </div>
  <!-- post content here! -->
  <!-- if sidebar! -->
  
  <!-- set fix width box to put content! -->
  <div class="post-viewer-container">
	<div class="post-fix-width">
		<p>I recently completed some image processing works with Pillow Library. Pillow provides a powerful function and has friendly APIs to the developer. I thought it is necessary to make some notes here for the usage.</p>

<h2 id="what-is-pillow">What is Pillow?</h2>
<p>We cannot say Pillow is PIL, even total from PIL. Actually Pillow is open source project of Github, it is more like a derived branch of PIL. We all know PIL (Python Image Library) is the previous third-party image processing library of python and almost regarded as the official image processing library of Python because of the powerful function. However the last PIL release is at build 1.1.7 in 2009 which can only support Python 2. PIL’s release schedule is too infrequent so that some volunteers created a open source project on Github for providing a compatible version on the basis of PIL. It’s called <code class="language-plaintext highlighter-rouge">Pillow</code>. Pillow added in some features based on PIL and provided support to Python 3. With the update of version and many bug fixes from many contributors, Pillow has developed into a more dynamic image processing library than PIL itself. Pillow can be said to have replaced PIL.</p>

<p>The source code of Pillow is at <a href="https://github.com/python-pillow/Pillow">Github repository</a>. <br />
The official website is <a href="https://python-pillow.org/">here</a>.<br /></p>

<h2 id="what-can-pillow-do">What Can Pillow do?</h2>
<p>Pillow provides fairly powerful image processing capabilities for Python. It can do many things related to image processing and support extensive file format.</p>

<p>Below is official description of Pillow.</p>

<blockquote>
  <p><strong>Image Archives</strong>
The Python Imaging Library is ideal for image archival and batch processing applications. You can use the library to create thumbnails, convert between file formats, print images, etc. <br />
The current version identifies and reads a large number of formats. Write support is intentionally restricted to the most commonly used interchange and presentation formats. <br />
<strong>Image Display</strong>
The current release includes Tk PhotoImage and BitmapImage interfaces, as well as a Windows DIB interface that can be used with PythonWin and other Windows-based toolkits. Many other GUI toolkits come with some kind of PIL support. <br />
For debugging, there’s also a show() method which saves an image to disk, and calls an external display utility.  <br />
<strong>Image Processing</strong>
The library contains basic image processing functionality, including point operations, filtering with a set of built-in convolution kernels, and colour space conversions. <br />
The library also supports image resizing, rotation and arbitrary affine transforms. <br />
There’s a histogram method allowing you to pull some statistics out of an image. This can be used for automatic contrast enhancement, and for global statistical analysis.</p>
</blockquote>

<h2 id="usage">Usage</h2>
<h3 id="installation">Installation</h3>

<p>Below is the python version information that Pillow can support.
<img src="/daviddong.github.io/assets/image/python-pillow-01.png" alt="support version" class="center-image" /></p>

<p>Pillow has been packaged into a standard Python library so the installation is quite easy, uses pip complete installation.</p>

<p>Here is a reminder that Pillow and PIL cannot co-exist in the same environment. Before installing Pillow, need to uninstall PIL firstly.</p>

<p>Install Pillow with pip:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">pip</span>
<span class="n">python3</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">Pillow</span></code></pre></figure>

<h3 id="image-class">Image Class</h3>
<p>The most important class in the Python Imaging Library is the Image class. <br />
Before use the library, need to import it firstly.<br /></p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c1">#python2 
</span><span class="kn">import</span> <span class="nn">Image</span> 

<span class="c1">#python3 
</span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span></code></pre></figure>

<h3 id="some-useful-methods">Some useful methods</h3>

<p>Here we take a example of python3.</p>

<ul>
  <li><strong>Open()/Show()</strong><br />
To load an image from a file, use the <code class="language-plaintext highlighter-rouge">open()</code> function in the Image module. If successful, this function returns an Image object. You can now use instance attributes to examine the file contents:</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"python-pillow-02.jpg"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">size</span><span class="p">,</span><span class="n">im</span><span class="p">.</span><span class="n">mode</span><span class="p">,</span><span class="n">im</span><span class="p">.</span><span class="nb">format</span><span class="p">)</span>
<span class="p">(</span><span class="mi">750</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span> <span class="n">RGB</span> <span class="n">JPEG</span>
<span class="n">im</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p>The format attribute identifies the source of an image. If the image was not read from a file, it is set to None. The size attribute is a 2-tuple containing width and height (in pixels). The mode attribute defines the number and names of the bands in the image, and also the pixel type and depth. Common modes are <code class="language-plaintext highlighter-rouge">L</code> (luminance) for greyscale images, <code class="language-plaintext highlighter-rouge">RGB</code> for true color images, and <code class="language-plaintext highlighter-rouge">CMYK</code> for pre-press images.<br />
Above four row codes will open and display a image on the screen. it will use the default image viewer of your computer to show the image.
<img src="/daviddong.github.io/assets/image/python-pillow-02.jpg" alt="image" class="center-image" /></p>

<ul>
  <li><strong>resize()</strong></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">print</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
<span class="p">(</span><span class="mi">750</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">im</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
<span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span></code></pre></figure>

<p><img src="/daviddong.github.io/assets/image/python-pillow-03.JPG" alt="image" class="center-image" /></p>

<ul>
  <li><strong>transpose()</strong></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">im_rotate_180</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">Image</span><span class="p">.</span><span class="n">ROTATE_180</span><span class="p">)</span>
<span class="n">im_rotate_180</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><img src="/daviddong.github.io/assets/image/python-pillow-04.JPG" alt="image" class="center-image" /> <br />
The parameters can be <br />
-<code class="language-plaintext highlighter-rouge">Image.FLIP_LEFT_RIGHT</code>, which means to flip the image left and right<br />
-<code class="language-plaintext highlighter-rouge">Image.FLIP_TOP_BOTTOM</code>, which means to flip the image up and down<br />
-<code class="language-plaintext highlighter-rouge">Image.ROTATE_90</code>, which means to rotate the image 90 ° anticlockwise<br />
-<code class="language-plaintext highlighter-rouge">Image.ROTATE_180</code>, which means to rotate the image 180 ° anticlockwise<br />
-<code class="language-plaintext highlighter-rouge">Image.ROTATE_270</code>, Means to rotate the image 270 ° anticlockwise<br />
-<code class="language-plaintext highlighter-rouge">Image.TRANSPOSE</code>, which means to rotate the image (equivalent to 90 ° clockwise rotation)<br />
-<code class="language-plaintext highlighter-rouge">Image.TRANSVERSE</code>, which means to transpose the image and then turn it horizontally<br /></p>

<ul>
  <li><strong>crop()</strong></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"python-pillow-02.JPG"</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">crop</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
<span class="n">region</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p>The above code cuts out a box rectangle area on the <code class="language-plaintext highlighter-rouge">im</code> and displays it. Box is a tuple with four numbers (upper left, upper left, lower right, lower right). Each pixel represents a coordinate <code class="language-plaintext highlighter-rouge">unit. Crop()</code> still returns an image object.<br /></p>

<p><img src="/daviddong.github.io/assets/image/python-pillow-05.JPG" alt="image" class="center-image" /></p>

<ul>
  <li><strong>filter()</strong><br />
Image can provide below filters.<br />
<code class="language-plaintext highlighter-rouge">BLUR</code>、<code class="language-plaintext highlighter-rouge">CONTOUR</code>、<code class="language-plaintext highlighter-rouge">DETAIL</code>、<code class="language-plaintext highlighter-rouge">EDGE_ENHANCE</code>、<code class="language-plaintext highlighter-rouge">EDGE_ENHANCE_MORE</code>、<br /><code class="language-plaintext highlighter-rouge">EMBOSS</code>、<code class="language-plaintext highlighter-rouge">FIND_EDGES</code>、<code class="language-plaintext highlighter-rouge">SMOOTH</code>、<code class="language-plaintext highlighter-rouge">SMOOTH_MORE</code>、<code class="language-plaintext highlighter-rouge">SHARPEN</code>.<br />
Below we demonstrate some of the effect of filters.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageFilter</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"python-pillow-02.JPG"</span><span class="p">)</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">resize</span><span class="p">((</span><span class="mi">150</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">blur</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">BLUR</span><span class="p">)</span>
<span class="n">conf</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">CONTOUR</span><span class="p">)</span>
<span class="n">edge</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">FIND_EDGES</span><span class="p">)</span>
<span class="n">smooth</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">SMOOTH</span><span class="p">)</span>
<span class="n">sharpen</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">SHARPEN</span><span class="p">)</span>
<span class="n">emboss</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">ImageFilter</span><span class="p">.</span><span class="n">EMBOSS</span><span class="p">)</span>
<span class="n">blur</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">conf</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">edge</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">smooth</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">sharpen</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">emboss</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">BLUR</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-06.JPG" alt="blur" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">CONTOUR</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-07.JPG" alt="blur" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">EDGE</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-08.JPG" alt="blur" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">SMOOTH</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-09.JPG" alt="blur" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">SHARPEN</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-10.JPG" alt="blur" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">EMBOSS</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-11.JPG" alt="emboss" class="center-image" /><br /></p>

<ul>
  <li><strong>rotate()</strong></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"python-pillow-02.JPG"</span><span class="p">)</span>
<span class="n">w</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">size</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">resize</span><span class="p">(((</span><span class="nb">int</span><span class="p">)(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),(</span><span class="nb">int</span><span class="p">)(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="n">im_45</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span>
<span class="n">im_90</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">rotate</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
<span class="n">im_45</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">im_90</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">rotate 45 degree</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-12.JPG" alt="rotate45" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">rotate 90 degree</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-13.JPG" alt="rotate45" class="center-image" /><br /></p>

<ul>
  <li><strong>convert()</strong><br />
<code class="language-plaintext highlighter-rouge">Convert()</code> is a method of image instance object. It accepts a mode parameter to specify a color mode. The value of mode can be as follows:<br />
· <code class="language-plaintext highlighter-rouge">1</code> (1-bit pixels, black and white, stored with one pixel per byte)<br />
· <code class="language-plaintext highlighter-rouge">L</code> (8-bit pixels, black and white)<br />
· <code class="language-plaintext highlighter-rouge">P</code> (8-bit pixels, mapped to any other mode using a color palette)<br />
· <code class="language-plaintext highlighter-rouge">RGB</code> (3x8-bit pixels, true color)<br />
· <code class="language-plaintext highlighter-rouge">RGBA</code> (4x8-bit pixels, true color with transparency mask)<br />
· <code class="language-plaintext highlighter-rouge">CMYK</code> (4x8-bit pixels, color separation)<br />
· <code class="language-plaintext highlighter-rouge">YCbCr</code> (3x8-bit pixels, color video format)<br />
· <code class="language-plaintext highlighter-rouge">I</code> (32-bit signed integer pixels)<br />
· <code class="language-plaintext highlighter-rouge">F</code> (32-bit floating point pixels)<br /></li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"python-pillow-02.JPG"</span><span class="p">)</span>
<span class="n">w</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">size</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">resize</span><span class="p">(((</span><span class="nb">int</span><span class="p">)(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),(</span><span class="nb">int</span><span class="p">)(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="n">im_1</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">convert</span><span class="p">(</span><span class="s">"1"</span><span class="p">)</span>
<span class="n">im_L</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">convert</span><span class="p">(</span><span class="s">"L"</span><span class="p">)</span>
<span class="n">im_P</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">convert</span><span class="p">(</span><span class="s">"P"</span><span class="p">)</span>
<span class="n">im_CMYK</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">convert</span><span class="p">(</span><span class="s">"CMYK"</span><span class="p">)</span>
<span class="n">im_F</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">convert</span><span class="p">(</span><span class="s">"F"</span><span class="p">)</span>
<span class="n">im_1</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">im_L</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">im_P</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">im_CMYK</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">im_F</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">mode 1</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-14.JPG" alt="mode1" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">mode L</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-15.JPG" alt="model" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">mode p</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-16.JPG" alt="modep" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">mode CMYK</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-17.JPG" alt="modecmyk" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">mode F</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-18.JPG" alt="modef" class="center-image" /><br /></p>

<ul>
  <li><strong>paste()</strong><br />
Paste one image onto another.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"python-pillow-02.JPG"</span><span class="p">)</span>
<span class="n">w</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">size</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">resize</span><span class="p">(((</span><span class="nb">int</span><span class="p">)(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),(</span><span class="nb">int</span><span class="p">)(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="n">im</span><span class="p">.</span><span class="n">size</span><span class="p">)</span>
<span class="n">box</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">crop</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
<span class="n">im</span><span class="p">.</span><span class="n">paste</span><span class="p">(</span><span class="n">region</span><span class="p">,(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>
<span class="n">im</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p>in above code, <code class="language-plaintext highlighter-rouge">region</code> is the object to be pasted. <br />
<img src="/daviddong.github.io/assets/image/python-pillow-19.JPG" alt="paste" class="center-image" /><br /></p>

<ul>
  <li><strong>split()</strong><br />
<code class="language-plaintext highlighter-rouge">Split()</code> method can separate each channel of the original image. For example, for <code class="language-plaintext highlighter-rouge">RGB</code> image, the three color channels <code class="language-plaintext highlighter-rouge">R</code>, <code class="language-plaintext highlighter-rouge">G</code> and <code class="language-plaintext highlighter-rouge">B</code> can be separated.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"python-pillow-02.JPG"</span><span class="p">)</span>
<span class="n">w</span><span class="p">,</span><span class="n">h</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">size</span>
<span class="n">im</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">resize</span><span class="p">(((</span><span class="nb">int</span><span class="p">)(</span><span class="n">w</span><span class="o">/</span><span class="mi">2</span><span class="p">),(</span><span class="nb">int</span><span class="p">)(</span><span class="n">h</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">im</span><span class="p">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">r</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">g</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">b</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">R</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-20.JPG" alt="R" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">G</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-21.JPG" alt="G" class="center-image" /><br />
<code class="language-plaintext highlighter-rouge">B</code><br />
<img src="/daviddong.github.io/assets/image/python-pillow-22.JPG" alt="B" class="center-image" /><br /></p>

<ul>
  <li><strong>merge()</strong><br />
Merge method and split method are relative. it combines multiple single channel sequences to form a multi-channel image. Mode is the mode of the combined image, such as <code class="language-plaintext highlighter-rouge">RGB</code>, and channels is the sequence composed of multiple single channels.</li>
</ul>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">im_merge</span> <span class="o">=</span> <span class="n">Image</span><span class="p">.</span><span class="n">merge</span><span class="p">(</span><span class="s">"RGB"</span><span class="p">,[</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">])</span>
<span class="n">im_merge</span><span class="p">.</span><span class="n">show</span><span class="p">()</span></code></pre></figure>

<p><img src="/daviddong.github.io/assets/image/python-pillow-23.JPG" alt="merge" class="center-image" /><br /></p>


	</div>
	<!-- put sidebar! -->
	<div class="post-index-container">
		<li class = "post-index">On this page</li>
		<li><ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#what-is-pillow">What is Pillow?</a></li>
<li class="toc-entry toc-h2"><a href="#what-can-pillow-do">What Can Pillow do?</a></li>
<li class="toc-entry toc-h2"><a href="#usage">Usage</a>
<ul>
<li class="toc-entry toc-h3"><a href="#installation">Installation</a></li>
<li class="toc-entry toc-h3"><a href="#image-class">Image Class</a></li>
<li class="toc-entry toc-h3"><a href="#some-useful-methods">Some useful methods</a></li>
</ul>
</li>
</ul></li>
	</div>
  </div>
  <!-- no sidebar, use flex width box! -->
  

  <br><br><br>
  <!-- Page navigation start here! --><li class="posts-labelgroup" id="posts-labelgroup">
	<h1 id="posts-label">further reading</h1>
  </li> 
  <div class="navigation-meta" style = "margin-bottom:40px"><ul class="navigation-bar" style = "margin-top:40px; min-width:40%">   
	 <a href="/daviddong.github.io/pinned/2019/02/23/Pinned-Template.html"; style="width:100%"><font size="1px" color="#777">Previous Post</font><br>关于本博客模板使用上的一些问题 [Q&amp;A]</a>
    </ul><ul class="navigation-bar" style = "margin-top:40px; min-width:40%">   
     <a href="/daviddong.github.io/python/2019/04/01/Python-coding-spec.html"; style="width:100%"><font size="1px" color="#777">Next Post</font><br>Python 开发编码规范（转）</a>
    </ul></div><br>
  <!-- comment box starts here! -->
    <!-- disqus start  --><!-- Gitalk start  -->
  <!-- Link Gitalk support file  -->
  <section class="gitalk">
  <div id="gitalk_thread"></div>
  <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
  <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script type="text/javascript" src="/daviddong.github.io/assets/js/md5.min.js"></script>
  <div id="gitalk-container"></div>
  <script type="text/javascript">
   var gitalk = new Gitalk({
   // gitalk parameters
   clientID: '5e24fc307693a6df3bc5',
   clientSecret: '28c9c17e1174c705c42e9bdc92f87cadcc4ec8b8',
   repo: 'daviddong.github.io',
   owner: 'gangdong',
   admin: ['gangdong'],
   id: md5(location.pathname),
   title: 'comments'
    });
   gitalk.render('gitalk-container');
  </script>
  </section>
  <!-- Gitalk end -->
  <br/><br/><br/><div class = "footer">© 2012-2021 David Dong. All rights reserved.</div>
  
  <br>
</div>

      </section>
    </main>
<script src="/daviddong.github.io/assets/js/simple-jekyll-search.min.js"></script>
<script src="/daviddong.github.io/assets/js/search.js"></script>
<link href="/daviddong.github.io/assets/css/vim.css" rel="stylesheet"/>

  </body>
</html>
